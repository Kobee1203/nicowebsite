<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>iGoogle like Drag & Drop Portal v2.0 by Michel Hiemstra</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="author" content="Michel Hiemstra (mhiemstra@php.net)" />
		<meta name="keywords" content="drag&drop portal, igoogle drag and drop, igoogle, drag and drop div igoogle javascript, drag and drop block like igoogle, div drag drop" />
		<meta name="description" content="iGoogle like Drag & Drop Portal v2.0 by Michel Hiemstra" />

		<script type="text/javascript" src="assets/js/prototype.js"></script>
    <script type="text/javascript" src="assets/js/scriptaculous.js"></script>
		<script type="text/javascript" src="assets/js/splitpane-patched.js"></script>
		<script type="text/javascript" src="assets/js/hashmap.js"></script>
    <script type="text/javascript" src="assets/js/pngfixall.js"></script>
		<script type="text/javascript" src="assets/js/portal.js"></script>
		
		<script type="text/javascript">
			var data = {
        'column-1' : {
          children : ['block-1','block-2'],
          options : {
      		  style  : {
              width: '20%'
            }
  		    }
        },
			  'column-2' : {
          children : ['block-3'],
          options : {
      		  style  : {
              width: '50%'
            }
  		    }
        },
			  'column-3' : {
          children : ['block-4'],
          options : {
      		  style  : {
              width: '20%'
            }
  		    }
        },
			  'column-4' : {
          children : ['block-5'],
          options : {
      		  style  : {
              width: '10%',
              minWidth: '50px'
            }
  		    }
        }
      };

			var options 	= { portal 			: 'columns',
								        editorEnabled 	: true
                        /*, 'saveurl' : '/url/to/save'*/};

			var portal = null;

			Event.observe(window, 'load', function() {
        portal = new Portal(options, data);
        SplitPane.setAll();
			});
      
      function addItem() {
        var columns = $(portal.options.portal).select('.'+portal.options.column);
        var column;
        for(i=0; i<columns.length; i++) {
          var isHide = columns[i].getStyle('display')=='none';
          if(!isHide) {
            column = columns[i];
            break;
          }
        }
        portal.addNewBlock(column);
        portal.refresh();
      }
      
      function addColumn() {
        portal.addNewColumn();
        portal.refresh();
      }
			
		</script>
    
		<link rel="stylesheet" href="assets/css/style.css"  type="text/css" media="screen" />
		<link rel="stylesheet" href="assets/css/portal.css"  type="text/css" media="screen" />

    <style type="text/css">
        .splitpane-divider {
          border: 1px solid white;
	        background-color: white;
	        opacity: 0.5;
          filter: alpha(opacity = 50);
          width: 2px;
        }
    </style>

    <style type="text/css">@import 'debug/fauxconsole.css';</style>
    <script type="text/javascript" src="debug/fauxconsole.js"></script>

	</head>

	<body>

		<div id="wrapper">

			<h1>iGoogle-like Drag &amp; Drop Portal v2.0</h1>
           
			<div style="clear:both;"></div>
			
      <div id="add" class="block"><button onclick="addItem();">Add Item</button></div>
      <div id="add" class="block"><button onclick="addColumn();">Add Column</button></div>
			
			<hr style="margin-top: 40px;" />

			<div id="columns">

				<div class="portal-column" id="portal-column-block-list" style="display: none;">
					<div class="block" id="block-1">
						<h1 class="draghandle">
              <div style="display: block; background-color: transparent;" class="block-controls">
                <a class="block-remove"><img src="assets/img/delete.png" width=15 height="15" alt="x"/></a>
              </div>
            Block 1
            </h1>
						<p>Block 1 data</p>
					</div>

					<div class="block" id="block-2">
						<h1 class="draghandle">
              <div style="display: block; background-color: transparent;" class="block-controls">
                <a class="block-remove"><img src="assets/img/delete.png" width=15 height="15" alt="x"/></a>
              </div>
              Block 2
            </h1>
						<p>Block 2 data</p>
					</div>

					<div class="block" id="block-3">
						<h1 class="draghandle">
						  <div style="display: block; background-color: transparent;" class="block-controls">
                <a class="block-remove"><img src="assets/img/delete.png" width=15 height="15" alt="x"/></a>
              </div>
              Block 3
            </h1>
						<p>Block 3 data</p>
					</div>

					<div class="block" id="block-4">
						<h1 class="draghandle">
  						<div style="display: block; background-color: transparent;" class="block-controls">
                <a class="block-remove"><img src="assets/img/delete.png" width=15 height="15" alt="x"/></a>
              </div>
              Block 4
            </h1>
						<p>Block 4 data</p>
					</div>
					<div class="block" id="block-5">
						<h1 class="draghandle">
  						<div style="display: block; background-color: transparent;" class="block-controls">
                <a class="block-remove"><img src="assets/img/delete.png" width=15 height="15" alt="x"/></a>
              </div>
              Block 5
            </h1>
						<p>Block 5 data</p>
					</div>
				</div>
			</div>

			<div style="clear:both;"></div>

			<div style="clear:both;"></div>

			<hr style="margin-top: 40px;" />

			<div style="clear:both;"></div>

			<div id="browser-support">
				Supported browsers: Just about all of them: IE6, IE7, IE8, FireFox, Safari, Chrome, Opera and more.
			</div>

			<div style="clear:both;"></div>

      <div id="column" style="display: none;" class="column">
        <div style="display:none;background-color: transparent;" class="column-controls">
          <a style="position:absolute; top: -15px;" class="column-remove"><img src="assets/img/delete.png" width=15 height="15" alt="X"/></a>
        </div>
      </div>
      <div id="block" style="display:none;" class="block">
        <h1 class="draghandle">
          <div style="display: block; background-color: transparent;" class="block-controls">
            <a class="block-remove"><img src="assets/img/delete.png" width=15 height="15" alt="x"/></a>
          </div>
          Block
        </h1>
        <p>Block data</p>
      </div>
		</div>
    
	</body>
	
</html>